<?xml version = '1.0' encoding = 'UTF-8'?>
<TriggerOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.TriggerOraclev10g" name="Trg_data_tranzactie" directorySegmentName="seg_0" id="81275325-506F-7A4C-C7A9-3097C3916E38">
<createdBy>alexei</createdBy>
<createdTime>2026-01-04 12:00:32 UTC</createdTime>
<ownerDesignName>campis</ownerDesignName>
<actions>INSERT, UPDATE</actions>
<body><![CDATA[DECLARE
  var_data_postare DATE;
BEGIN
  SELECT data_postare into var_data_postare
  FROM produse
  WHERE id_produs = :new.id_produs;

  IF (:new.data_tranzactie < var_data_postare)
  THEN
    RAISE_APPLICATION_ERROR(-20003, 'Data invalida: produsul nu poate fi vandut inainte de a fi publicat');
  END IF;

  IF (:new.data_tranzactie > SYSDATE)
  THEN
    RAISE_APPLICATION_ERROR(-20002, 'Data invalida: nu poate fi in viitor');
  END IF;
END;]]></body>
<triggerTime>BEFORE</triggerTime>
<table>E3A94CA6-E371-8A67-0AB2-E7C7DB2A95F8</table>
</TriggerOraclev10g>
